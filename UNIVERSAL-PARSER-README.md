# üöÄ –£–ù–ò–í–ï–†–°–ê–õ–¨–ù–´–ô –ü–ê–†–°–ï–† –ù–û–†–ú–ê–¢–ò–í–ù–´–• –î–û–ö–£–ú–ï–ù–¢–û–í

## –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞

```
PDF ‚Üí RawNormFragments ‚Üí Human Review ‚Üí Requirements ‚Üí CheckItems
```

**–ö–ª—é—á–µ–≤–∞—è –∏–¥–µ—è:** AI –∏–∑–≤–ª–µ–∫–∞–µ—Ç –°–´–†–´–ï —Ñ—Ä–∞–≥–º–µ–Ω—Ç—ã, —á–µ–ª–æ–≤–µ–∫ –ø—Ä–æ–≤–µ—Ä—è–µ—Ç –∏ —É—Ç–≤–µ—Ä–∂–¥–∞–µ—Ç, —Å–∏—Å—Ç–µ–º–∞ –∫–æ–Ω–≤–µ—Ä—Ç–∏—Ä—É–µ—Ç –≤ Requirements.

---

## ‚úÖ –ß—Ç–æ —É–∂–µ —Å–¥–µ–ª–∞–Ω–æ:

1. ‚úÖ **SQL –º–∏–≥—Ä–∞—Ü–∏—è** - `migrations/add-raw-norm-fragments.sql`
2. ‚úÖ **Prisma —Å—Ö–µ–º–∞ –æ–±–Ω–æ–≤–ª–µ–Ω–∞** - –º–æ–¥–µ–ª—å `RawNormFragment`
3. ‚úÖ **–£–Ω–∏–≤–µ—Ä—Å–∞–ª—å–Ω—ã–π –ø–∞—Ä—Å–µ—Ä** - `scripts/universal-norm-parser.js`

---

## üìã –ò–ù–°–¢–†–£–ö–¶–ò–Ø –ü–û –ó–ê–ü–£–°–ö–£:

### –®–∞–≥ 1: –í—ã–ø–æ–ª–Ω–∏—Ç—å SQL –º–∏–≥—Ä–∞—Ü–∏—é

**–û—Ç–∫—Ä–æ–π—Ç–µ Supabase SQL Editor** –∏ –≤—ã–ø–æ–ª–Ω–∏—Ç–µ:

```sql
-- –°–∫–æ–ø–∏—Ä—É–π—Ç–µ —Å–æ–¥–µ—Ä–∂–∏–º–æ–µ —Ñ–∞–π–ª–∞:
migrations/add-raw-norm-fragments.sql
```

–ò–ª–∏ –≤—ã–ø–æ–ª–Ω–∏—Ç–µ:
```bash
node scripts/run-migration.js
# –°–∫–æ–ø–∏—Ä—É–µ—Ç SQL –≤ –∫–æ–Ω—Å–æ–ª—å
```

### –®–∞–≥ 2: –°–æ–∑–¥–∞—Ç—å NormSource

–°–Ω–∞—á–∞–ª–∞ —Å–æ–∑–¥–∞–π—Ç–µ –∑–∞–ø–∏—Å—å –≤ `norm_sources` –¥–ª—è –≤–∞—à–µ–≥–æ –¥–æ–∫—É–º–µ–Ω—Ç–∞:

```sql
INSERT INTO norm_sources (
    id,
    "normId",
    jurisdiction,
    "docType",
    code,
    title,
    status,
    keywords,
    tags,
    "createdAt",
    "updatedAt"
) VALUES (
    gen_random_uuid(),
    'SP-484-KZ-2020', 
    'KZ',
    '–°–ü',
    '–°–ü 484',
    '–°–∏—Å—Ç–µ–º—ã –ø–æ–∂–∞—Ä–Ω–æ–π —Å–∏–≥–Ω–∞–ª–∏–∑–∞—Ü–∏–∏ –∏ –∞–≤—Ç–æ–º–∞—Ç–∏–∑–∞—Ü–∏—è',
    'ACTIVE',
    ARRAY['–ø–æ–∂–∞—Ä–Ω–∞—è –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å', '–∞–ø—Å'],
    ARRAY['fire', 'aps'],
    NOW(),
    NOW()
)
RETURNING id;
```

**–°–∫–æ–ø–∏—Ä—É–π—Ç–µ –ø–æ–ª—É—á–µ–Ω–Ω—ã–π ID!**

### –®–∞–≥ 3: –ü–æ–¥–≥–æ—Ç–æ–≤–∏—Ç—å –º–µ—Ç–∞–¥–∞–Ω–Ω—ã–µ

–°–æ–∑–¥–∞–π—Ç–µ JSON —Ñ–∞–π–ª —Å –ø–∞—Ä–∞–º–µ—Ç—Ä–∞–º–∏ –¥–æ–∫—É–º–µ–Ω—Ç–∞ (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ):

`meta-sp-484.json`:
```json
{
  "documentTitle": "–°–ü 484 - –°–∏—Å—Ç–µ–º—ã –ø–æ–∂–∞—Ä–Ω–æ–π —Å–∏–≥–Ω–∞–ª–∏–∑–∞—Ü–∏–∏",
  "documentType": "–°–≤–æ–¥ –ø—Ä–∞–≤–∏–ª (–°–ü)",
  "regulationArea": "–ü–æ–∂–∞—Ä–Ω–∞—è –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å",
  "jurisdiction": "–†–µ—Å–ø—É–±–ª–∏–∫–∞ –ö–∞–∑–∞—Ö—Å—Ç–∞–Ω",
  "bindingLevel": "–æ–±—è–∑–∞—Ç–µ–ª—å–Ω—ã–π"
}
```

### –®–∞–≥ 4: –ó–∞–ø—É—Å—Ç–∏—Ç—å –ø–∞—Ä—Å–µ—Ä

```bash
node scripts/universal-norm-parser.js \
  ./path/to/SP-484.pdf \
  <NORM_SOURCE_ID> \
  ./meta-sp-484.json
```

**–ü—Ä–∏–º–µ—Ä:**
```bash
node scripts/universal-norm-parser.js \
  ./norms/SP-484-RK.pdf \
  abc-123-456-def \
  ./meta-sp-484.json
```

### –®–∞–≥ 5: –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã

```sql
-- –°–∫–æ–ª—å–∫–æ —Ñ—Ä–∞–≥–º–µ–Ω—Ç–æ–≤ –∏–∑–≤–ª–µ—á–µ–Ω–æ
SELECT COUNT(*) FROM raw_norm_fragments 
WHERE "normSourceId" = 'abc-123-456-def';

-- –§—Ä–∞–≥–º–µ–Ω—Ç—ã —Å –≤—ã—Å–æ–∫–∏–º confidence
SELECT 
    "fragmentId",
    "sourceClause", 
    LEFT("rawText", 100) as preview,
    "confidenceScore"
FROM raw_norm_fragments
WHERE "normSourceId" = 'abc-123-456-def'
  AND "confidenceScore" > 0.8
ORDER BY "confidenceScore" DESC
LIMIT 10;
```

---

## üîÑ –ü–ï–†–ï–ü–ê–†–°–ò–ù–ì –°–¢–ê–†–´–• –î–û–ö–£–ú–ï–ù–¢–û–í

### –ü—Ä–∏–º–µ—Ä: –ü–£–≠ –†–ö

1. **–ù–∞–π—Ç–∏ ID –Ω–æ—Ä–º—ã:**
```sql
SELECT id, "normId", title 
FROM norm_sources 
WHERE "normId" LIKE '%–ü–£–≠%' OR title LIKE '%–ü–£–≠%';
```

2. **–ó–∞–ø—É—Å—Ç–∏—Ç—å –ø–∞—Ä—Å–µ—Ä:**
```bash
node scripts/universal-norm-parser.js \
  ./norms/PUE-RK.pdf \
  <ID_FROM_STEP_1> \
  ./meta-pue-rk.json
```

3. **–°—Ä–∞–≤–Ω–∏—Ç—å —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã:**
```sql
-- –°—Ç–∞—Ä—ã–µ requirements
SELECT COUNT(*) FROM requirements 
WHERE "normSourceId" = '<ID>';

-- –ù–æ–≤—ã–µ fragments
SELECT COUNT(*) FROM raw_norm_fragments
WHERE "normSourceId" = '<ID>';
```

---

## üìä –°–¢–ê–¢–£–°–´ –§–†–ê–ì–ú–ï–ù–¢–û–í

- **PENDING** - –æ–∂–∏–¥–∞–µ—Ç –ø—Ä–æ–≤–µ—Ä–∫–∏
- **APPROVED** - –ø—Ä–æ–≤–µ—Ä–µ–Ω, –≥–æ—Ç–æ–≤ –∫ –∫–æ–Ω–≤–µ—Ä—Ç–∞—Ü–∏–∏
- **REJECTED** - –æ—Ç–∫–ª–æ–Ω–µ–Ω (–Ω–µ —è–≤–ª—è–µ—Ç—Å—è —Ç—Ä–µ–±–æ–≤–∞–Ω–∏–µ–º)
- **CONVERTED** - –ø—Ä–µ–æ–±—Ä–∞–∑–æ–≤–∞–Ω –≤ Requirement

---

## üéØ –°–õ–ï–î–£–Æ–©–ò–ï –®–ê–ì–ò:

1. ‚úÖ –í—ã–ø–æ–ª–Ω–∏—Ç—å –º–∏–≥—Ä–∞—Ü–∏—é
2. ‚è≥ –ü—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å –Ω–∞ –ü–£–≠ –†–ö (–ø–µ—Ä–µ–ø–∞—Ä—Å–∏–Ω–≥)
3. ‚è≥ –°–æ–∑–¥–∞—Ç—å UI –¥–ª—è review —Ñ—Ä–∞–≥–º–µ–Ω—Ç–æ–≤
4. ‚è≥ –°–æ–∑–¥–∞—Ç—å –∫–æ–Ω–≤–µ—Ä—Ç–µ—Ä Fragments ‚Üí Requirements
5. ‚è≥ –ü–∞—Ä—Å–∏—Ç—å –Ω–æ–≤—ã–µ –Ω–æ—Ä–º—ã (–°–ü 484, –°–ù –†–ö, –∏ —Ç.–¥.)

---

## üí° –ü–†–ï–ò–ú–£–©–ï–°–¢–í–ê

‚úÖ **–£–Ω–∏–≤–µ—Ä—Å–∞–ª—å–Ω–æ—Å—Ç—å** - –æ–¥–∏–Ω –ø–∞—Ä—Å–µ—Ä –¥–ª—è –≤—Å–µ—Ö –Ω–æ—Ä–º   
‚úÖ **–¢–æ—á–Ω–æ—Å—Ç—å** - —Å–æ—Ö—Ä–∞–Ω—è–µ–º –æ—Ä–∏–≥–∏–Ω–∞–ª—å–Ω—ã–π —Ç–µ–∫—Å—Ç  
‚úÖ **–ü—Ä–æ–≤–µ—Ä—è–µ–º–æ—Å—Ç—å** - —á–µ–ª–æ–≤–µ–∫ –º–æ–∂–µ—Ç –ø—Ä–æ–≤–µ—Ä–∏—Ç—å –¥–æ –∫–æ–Ω–≤–µ—Ä—Ç–∞—Ü–∏–∏  
‚úÖ **–ú–∞—Å—à—Ç–∞–±–∏—Ä—É–µ–º–æ—Å—Ç—å** - –ª–µ–≥–∫–æ –¥–æ–±–∞–≤–ª—è—Ç—å –Ω–æ–≤—ã–µ –Ω–æ—Ä–º—ã  
‚úÖ **–ü—Ä–æ–∑—Ä–∞—á–Ω–æ—Å—Ç—å** - –≤–∏–¥–Ω–æ –æ—Ç–∫—É–¥–∞ –≤–∑—è–ª–æ—Å—å –∫–∞–∂–¥–æ–µ —Ç—Ä–µ–±–æ–≤–∞–Ω–∏–µ  

---

**–ì–æ—Ç–æ–≤—ã –Ω–∞—á–∞—Ç—å?** –í—ã–ø–æ–ª–Ω–∏—Ç–µ –®–∞–≥ 1! üöÄ
