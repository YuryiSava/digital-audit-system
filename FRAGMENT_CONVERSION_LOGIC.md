# üîÑ –õ–æ–≥–∏–∫–∞ –∫–æ–Ω–≤–µ—Ä—Ç–∞—Ü–∏–∏ —Ñ—Ä–∞–≥–º–µ–Ω—Ç–æ–≤ –≤ —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è

## ‚ö†Ô∏è –í–ê–ñ–ù–û–ï –ò–ó–ú–ï–ù–ï–ù–ò–ï (2026-01-29)

### –°—Ç–∞—Ä–æ–µ –ø–æ–≤–µ–¥–µ–Ω–∏–µ (–î–û –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è):
‚ùå –ü—Ä–∏ –∫–æ–Ω–≤–µ—Ä—Ç–∞—Ü–∏–∏ —Ñ—Ä–∞–≥–º–µ–Ω—Ç–æ–≤ –≤ —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è **–í–°–ï —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–µ —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è —É–¥–∞–ª—è–ª–∏—Å—å**
- –≠—Ç–æ –ø—Ä–∏–≤–æ–¥–∏–ª–æ –∫ –ø–æ—Ç–µ—Ä–µ —Ä—É—á–Ω–æ–π —Ä–∞–±–æ—Ç—ã –Ω–æ—Ä–º–∞—Ç–∏–≤—â–∏–∫–æ–≤
- –ù–µ–≤–æ–∑–º–æ–∂–Ω–æ –±—ã–ª–æ –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–∏—Ç—å —É–¥–∞–ª–µ–Ω–Ω—ã–µ —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è
- –†–∏—Å–∫ –ø–æ—Ç–µ—Ä–∏ –º–Ω–æ–≥–æ—á–∞—Å–æ–≤–æ–π —Ä–∞–±–æ—Ç—ã

### –ù–æ–≤–æ–µ –ø–æ–≤–µ–¥–µ–Ω–∏–µ (–ü–û–°–õ–ï –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è):
‚úÖ –ü—Ä–∏ –∫–æ–Ω–≤–µ—Ä—Ç–∞—Ü–∏–∏ —Ñ—Ä–∞–≥–º–µ–Ω—Ç–æ–≤ –≤ —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è **—Å—É—â–µ—Å—Ç–≤—É—é—â–∏–µ —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è —Å–æ—Ö—Ä–∞–Ω—è—é—Ç—Å—è**
- –ù–æ–≤—ã–µ —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è **–î–û–ë–ê–í–õ–Ø–Æ–¢–°–Ø** –∫ —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–º
- –†—É—á–Ω–∞—è —Ä–∞–±–æ—Ç–∞ –Ω–æ—Ä–º–∞—Ç–∏–≤—â–∏–∫–æ–≤ **–ù–ï —Ç–µ—Ä—è–µ—Ç—Å—è**
- –ù–æ—Ä–º–∞—Ç–∏–≤—â–∏–∫ –º–æ–∂–µ—Ç –≤—Ä—É—á–Ω—É—é —É–¥–∞–ª–∏—Ç—å –Ω–µ–Ω—É–∂–Ω—ã–µ –¥—É–±–ª–∏–∫–∞—Ç—ã

## üìã –ü—Ä–æ—Ü–µ—Å—Å –∫–æ–Ω–≤–µ—Ä—Ç–∞—Ü–∏–∏

### –®–∞–≥ 1: –ü–∞—Ä—Å–∏–Ω–≥ PDF
```
PDF ‚Üí Raw Fragments (—Å—Ç–∞—Ç—É—Å: PENDING)
```

### –®–∞–≥ 2: –†–µ–≤—å—é —Ñ—Ä–∞–≥–º–µ–Ω—Ç–æ–≤
–ù–æ—Ä–º–∞—Ç–∏–≤—â–∏–∫ –ø—Ä–æ—Å–º–∞—Ç—Ä–∏–≤–∞–µ—Ç —Ñ—Ä–∞–≥–º–µ–Ω—Ç—ã –∏:
- ‚úÖ –û–¥–æ–±—Ä—è–µ—Ç (APPROVED) - —Ä–µ–ª–µ–≤–∞–Ω—Ç–Ω—ã–µ —Ñ—Ä–∞–≥–º–µ–Ω—Ç—ã
- ‚ùå –û—Ç–∫–ª–æ–Ω—è–µ—Ç (REJECTED) - –Ω–µ—Ä–µ–ª–µ–≤–∞–Ω—Ç–Ω—ã–µ —Ñ—Ä–∞–≥–º–µ–Ω—Ç—ã

### –®–∞–≥ 3: –ö–æ–Ω–≤–µ—Ä—Ç–∞—Ü–∏—è –≤ —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è
```
APPROVED —Ñ—Ä–∞–≥–º–µ–Ω—Ç—ã ‚Üí OpenAI GPT-4o-mini ‚Üí Requirements
```

**–ß—Ç–æ –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç:**
1. –ë–µ—Ä—É—Ç—Å—è —Ç–æ–ª—å–∫–æ —Ñ—Ä–∞–≥–º–µ–Ω—Ç—ã —Å–æ —Å—Ç–∞—Ç—É—Å–æ–º `APPROVED`
2. –û—Ç–ø—Ä–∞–≤–ª—è—é—Ç—Å—è –≤ OpenAI –¥–ª—è —Å—Ç—Ä—É–∫—Ç—É—Ä–∏—Ä–æ–≤–∞–Ω–∏—è
3. **–ù–û–í–´–ï —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è –¥–æ–±–∞–≤–ª—è—é—Ç—Å—è –≤ –ë–î** (—Å—É—â–µ—Å—Ç–≤—É—é—â–∏–µ –ù–ï —É–¥–∞–ª—è—é—Ç—Å—è!)
4. –§—Ä–∞–≥–º–µ–Ω—Ç—ã –ø–æ–º–µ—á–∞—é—Ç—Å—è –∫–∞–∫ `PROCESSED`

### –®–∞–≥ 4: –û—á–∏—Å—Ç–∫–∞ –¥—É–±–ª–∏–∫–∞—Ç–æ–≤ (–≤—Ä—É—á–Ω—É—é)
–ù–æ—Ä–º–∞—Ç–∏–≤—â–∏–∫ –º–æ–∂–µ—Ç:
- –ü—Ä–æ—Å–º–æ—Ç—Ä–µ—Ç—å –≤—Å–µ —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è
- –£–¥–∞–ª–∏—Ç—å –¥—É–±–ª–∏–∫–∞—Ç—ã –∏–ª–∏ —É—Å—Ç–∞—Ä–µ–≤—à–∏–µ —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è
- –û—Ç—Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞—Ç—å —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è –≤—Ä—É—á–Ω—É—é

## üîß –¢–µ—Ö–Ω–∏—á–µ—Å–∫–∏–µ –¥–µ—Ç–∞–ª–∏

### –§–∞–π–ª—ã:
- **Backend**: `app/actions/convert-fragments.ts` (—Å—Ç—Ä–æ–∫–∏ 180-195)
- **Frontend**: `app/norm-library/[id]/RawFragmentsTab.tsx` (—Å—Ç—Ä–æ–∫–∏ 74-89)

### –ò–∑–º–µ–Ω–µ–Ω–∏—è –≤ –∫–æ–¥–µ:

**–£–¥–∞–ª–µ–Ω–æ** (—Å—Ç—Ä–æ–∫–∏ 182-193):
```typescript
// Delete existing requirements for this norm before inserting new ones
const { error: deleteError } = await supabase
    .from('requirements')
    .delete()
    .eq('normSourceId', normSourceId);
```

**–î–æ–±–∞–≤–ª–µ–Ω–æ**:
```typescript
// Insert new requirements (existing requirements are preserved)
console.log('Step 5: Inserting new requirements (preserving existing ones)...');
```

### UI –ø—Ä–µ–¥—É–ø—Ä–µ–∂–¥–µ–Ω–∏–µ:
```typescript
if (!confirm(
    `–ö–æ–Ω–≤–µ—Ä—Ç–∏—Ä–æ–≤–∞—Ç—å ${approvedCount} –æ–¥–æ–±—Ä–µ–Ω–Ω—ã—Ö —Ñ—Ä–∞–≥–º–µ–Ω—Ç–æ–≤ –≤ —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è?\n\n` +
    `‚ö†Ô∏è –í–ê–ñ–ù–û: –ù–æ–≤—ã–µ —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è –±—É–¥—É—Ç –î–û–ë–ê–í–õ–ï–ù–´ –∫ —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–º.\n` +
    `–°—É—â–µ—Å—Ç–≤—É—é—â–∏–µ —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è –ù–ï –±—É–¥—É—Ç —É–¥–∞–ª–µ–Ω—ã.`
))
```

## üí° –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏ –¥–ª—è –Ω–æ—Ä–º–∞—Ç–∏–≤—â–∏–∫–æ–≤

### –ü–µ—Ä–≤–∞—è –∫–æ–Ω–≤–µ—Ä—Ç–∞—Ü–∏—è:
1. –†–∞—Å–ø–∞—Ä—Å–∏—Ç—å PDF
2. –û–¥–æ–±—Ä–∏—Ç—å —Ä–µ–ª–µ–≤–∞–Ω—Ç–Ω—ã–µ —Ñ—Ä–∞–≥–º–µ–Ω—Ç—ã
3. –ö–æ–Ω–≤–µ—Ä—Ç–∏—Ä–æ–≤–∞—Ç—å –≤ —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è
4. –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Ä–µ–∑—É–ª—å—Ç–∞—Ç

### –ü–æ–≤—Ç–æ—Ä–Ω–∞—è –∫–æ–Ω–≤–µ—Ä—Ç–∞—Ü–∏—è:
1. –ï—Å–ª–∏ –Ω—É–∂–Ω–æ –¥–æ–±–∞–≤–∏—Ç—å –Ω–æ–≤—ã–µ —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è –∏–∑ –Ω–æ–≤—ã—Ö —Ñ—Ä–∞–≥–º–µ–Ω—Ç–æ–≤
2. –û–¥–æ–±—Ä–∏—Ç—å —Ç–æ–ª—å–∫–æ –Ω–æ–≤—ã–µ —Ñ—Ä–∞–≥–º–µ–Ω—Ç—ã
3. –ö–æ–Ω–≤–µ—Ä—Ç–∏—Ä–æ–≤–∞—Ç—å (–¥–æ–±–∞–≤—è—Ç—Å—è –∫ —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–º)
4. **–í—Ä—É—á–Ω—É—é —É–¥–∞–ª–∏—Ç—å –¥—É–±–ª–∏–∫–∞—Ç—ã**, –µ—Å–ª–∏ –ø–æ—è–≤–∏–ª–∏—Å—å

### –ü–æ–ª–Ω–∞—è –ø–µ—Ä–µ–∫–æ–Ω–≤–µ—Ä—Ç–∞—Ü–∏—è:
–ï—Å–ª–∏ –Ω—É–∂–Ω–æ –ø–æ–ª–Ω–æ—Å—Ç—å—é –ø–µ—Ä–µ–¥–µ–ª–∞—Ç—å —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è:
1. **–í—Ä—É—á–Ω—É—é —É–¥–∞–ª–∏—Ç—å** –≤—Å–µ —Å—Ç–∞—Ä—ã–µ —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è –¥–ª—è –Ω–æ—Ä–º–∞—Ç–∏–≤–∞
2. –û–¥–æ–±—Ä–∏—Ç—å –Ω—É–∂–Ω—ã–µ —Ñ—Ä–∞–≥–º–µ–Ω—Ç—ã
3. –ö–æ–Ω–≤–µ—Ä—Ç–∏—Ä–æ–≤–∞—Ç—å –≤ —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è

## üö® –ü—Ä–µ–¥—É–ø—Ä–µ–∂–¥–µ–Ω–∏—è

‚ö†Ô∏è **–î—É–±–ª–∏–∫–∞—Ç—ã –≤–æ–∑–º–æ–∂–Ω—ã!**
- –ï—Å–ª–∏ –∫–æ–Ω–≤–µ—Ä—Ç–∏—Ä–æ–≤–∞—Ç—å –æ–¥–Ω–∏ –∏ —Ç–µ –∂–µ —Ñ—Ä–∞–≥–º–µ–Ω—Ç—ã –¥–≤–∞–∂–¥—ã
- –†–µ—à–µ–Ω–∏–µ: –≤—Ä—É—á–Ω—É—é —É–¥–∞–ª–∏—Ç—å –¥—É–±–ª–∏–∫–∞—Ç—ã

‚ö†Ô∏è **–§—Ä–∞–≥–º–µ–Ω—Ç—ã –ø–æ–º–µ—á–∞—é—Ç—Å—è –∫–∞–∫ PROCESSED**
- –ü–æ—Å–ª–µ –∫–æ–Ω–≤–µ—Ä—Ç–∞—Ü–∏–∏ —Å—Ç–∞—Ç—É—Å –º–µ–Ω—è–µ—Ç—Å—è –Ω–∞ `PROCESSED`
- –ü–æ–≤—Ç–æ—Ä–Ω–∞—è –∫–æ–Ω–≤–µ—Ä—Ç–∞—Ü–∏—è —Ç–µ—Ö –∂–µ —Ñ—Ä–∞–≥–º–µ–Ω—Ç–æ–≤ –Ω–µ–≤–æ–∑–º–æ–∂–Ω–∞
- –†–µ—à–µ–Ω–∏–µ: –≤—Ä—É—á–Ω—É—é –∏–∑–º–µ–Ω–∏—Ç—å —Å—Ç–∞—Ç—É—Å –æ–±—Ä–∞—Ç–Ω–æ –Ω–∞ `APPROVED` –µ—Å–ª–∏ –Ω—É–∂–Ω–æ

---

**–î–∞—Ç–∞ –∏–∑–º–µ–Ω–µ–Ω–∏—è**: 2026-01-29  
**–ü—Ä–∏—á–∏–Ω–∞**: –ü—Ä–µ–¥–æ—Ç–≤—Ä–∞—â–µ–Ω–∏–µ –ø–æ—Ç–µ—Ä–∏ —Ä—É—á–Ω–æ–π —Ä–∞–±–æ—Ç—ã –Ω–æ—Ä–º–∞—Ç–∏–≤—â–∏–∫–æ–≤  
**–ê–≤—Ç–æ—Ä**: Digital Audit System Team

